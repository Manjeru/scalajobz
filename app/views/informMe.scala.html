@(alert: Alert , userId:String,jobs:List[Job]) 
@import java.text.SimpleDateFormat 
@format_date(date: java.util.Date) = @{ new
SimpleDateFormat("MMM dd yyyy").format(date) }

<div id="logos">
	<form class="form-inline" style="margin-top: 10px;">
		<label class="control-label" for="what">what:&nbsp;</label> <input
			id="what" type="text" class="input-xlarge"
			placeholder="what(job title, keywords or company)"
			style="height: 30px; font-size: 20px; color: #2884dd;"> <label
			class="control-label" for="where">where:&nbsp;</label> <input
			id="where" type="text" class="input-xlarge"
			placeholder="where(location)"
			style="height: 30px; font-size: 20px; color: #2884dd;">
		<button id="search" type="submit" class="btn btn-primary">Search</button>
	</form>


</div>
@main("Welcome to ScalaJobz.com",userId,alert) {

<div id="homewhite">
	<div class="page">
		<div class="pull-left">
			<div class="box" style="width: 560px;">
				<div id="content">
				@jobs.map { job =>
				<div class="post">
				<div id="jobheading"><a href="/jobDetail/@job.id">@job.position</a></div>
				<h3>@job.company - @job.location</h3>
				<p>@job.description</p>
				</div>
				}
				</div>
				<div id="myPager" class="pagination pagination-centered"></div>
			</div>
		</div>
		<div class="pull-right">

			<div class="box">
				<div class="bordered">
					<h3>Get new jobs for this search by email</h3>
					<form>
						<div class="control-group">
							<label class="control-label" for="EmailId">Email:</label>
							<div class="controls">
								<input id="EmailId" name="EmailId" type="text"
									placeholder="Email address" class="input-large"
									style="height: 30px;" />
							</div>
						</div>

						<div class="control-group">
							<div class="controls">
								<input type="submit" value="Get Jobs" class="btn btn-primary" />
							</div>
						</div>
					</form>
				</div>
			</div>

		</div>
		
		  
	</div>
</div>


<script type="text/javascript">
 
window.onload = function() {
	  document.getElementById("what").focus();
	};
	
 $('#search').click(function(e) {
	    var what = $("#what").val();
	    var where = $("#where").val();
	    if(what == "")
	    	what = null
	    if(where == "")
		    where = null
	    $.ajax({
	        type : 'POST',
	        url : '@routes.JobAlertController.searchJobForAlert("' + what + '","' + where + '")',
	        success : function(data) {
	        	 $('#content').html(data);
	        	 document.getElementById("myPager").style.display = 'none';
	        }
	    });
	    return false;
	});
 
 $(document).ready(function() {
	 showRecords(0,9);
	});
 
 $('#myPager').pagination(@jobs.size,{callback:function(page,component){
	 var itemperpage=10;
	 var from=page * itemperpage;
	 var to=from + itemperpage;
	 showRecords(from,to);
	 console.info(page);
	}})
	
function showRecords(from, to) {          
	 $('#content').children().css('display', 'none').slice(from,to).css('display', 'block'); 
   }  
 </script>

}
