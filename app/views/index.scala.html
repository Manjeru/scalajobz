@(alert: Alert,userId:String,jobs: List[Job],editFlag:Boolean)
@import java.text.SimpleDateFormat

@format_date(date: java.util.Date) = @{
	new SimpleDateFormat("MMM dd yyyy").format(date)
}
		<div id="logos">
			<div style="height: 100px;">
				<form action="" class="form-search" style="margin-top: 10px;">
					<div class="input-append">
						<input id="searchString" type="text" class="input-xxlarge" style="height:50px;font-size: 40px;color:#2884dd;">
						<input id="search" type="submit" value="Search" class="btn btn-primary" style="margin-top: 15px;"/>
					</div>
				</form>
			</div>
		</div>



@main("Welcome to Scalajobz.com",userId,alert) {
   
    <div id="homewhite">
	<div class="page">
	@if(userId != null && jobs.isEmpty){
	<h5>No Job Posted by you. Click <a class="menulink" href="/postAJob">Here</a> to post a job. </h5>
	} else {
	
	<div id="search-result">
		<table id="results" class="table table-striped">
			<thead>
				<tr>
					<th>POSITION</th>
					<th>COMPANY</th>
					<th>LOCATION</th>
					<th>TYPE</th>
					<th>KEY SKILLS</th>
					<th>DATE POSTED</th>
					
					@if(editFlag == true){<th>Option</th>}
				</tr>
			<tbody>
				@jobs.map { job =>
				<tr>
					<td><a href="/jobDetail/@job.id">@job.position</a></td>
					<td>@job.company</td>
					<td>@job.location</td>
					<td>@job.jobType</td>
					<td>@job.skillsRequired</td>
					<td>@format_date(job.datePosted)</td>
					@if(editFlag == true){
					<td><a href="/findJobPostForEdit/@job.id"><i class="icon-pencil" title="Edit"></i> </a>
					<a href="#" onclick="confirmDeleteJob('@job.id');"><i class="icon-remove" title="Delete"></i> </a></td>}
				</tr>
				}
			</tbody>
			</thead>
		</table>
		<div class="pagination pagination-centered">
		<div id="pageNavPosition"></div> </div>
		</div>
		  

		}
	</div>
</div>


 <script  type="text/javascript">
 
 var pager = new Pager('results',10);   
 pager.init();   
 pager.showPageNav('pager', 'pageNavPosition');   
 pager.showPage(1); 
 
 $('#search').click(function(e) {
	 var editflag=@editFlag+""
	    var idToGet = $("#searchString").val();
	    $.ajax({
	        type : 'POST',
	        url : '@routes.PostAJobController.findAJob("' + idToGet + '","' + editflag + '")',
	        success : function(data) {
	        	 $('#search-result').html(data);
	        }
	    });
	    return false;
	});
 
 function confirmDeleteJob(jobId) {
	    var agree=confirm("Do You want to delete this job?");
	    if (agree==true)
	      {
	    	deleteJob(jobId);
	      }
	    else
	      {
	    	return false;
	      } 
	}

function deleteJob(jobId) {
	    $.ajax({
	        type : 'GET',
	        url : '@routes.PostAJobController.deleteJob("' + jobId + '")',
	        success : function(data) {
	        	 window.location.reload();
	        }
	    });
	    return false;
	}
	
 </script>   
    
}